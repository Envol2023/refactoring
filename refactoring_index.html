<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>Refactoring</title><link rel="stylesheet" href="reveal.js/dist/reset.css"><link rel="stylesheet" href="reveal.js/dist/reveal.css"><link rel="stylesheet" href="custom/cours.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right {
  float: right
}

/* source blocks */
.reveal .listingblock.stretch > .content {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%
}

/* auto-animate feature */
/* hide the scrollbar when auto-animating source blocks */
.reveal pre[data-auto-animate-target] {
  overflow: hidden;
}

.reveal pre[data-auto-animate-target] code {
  overflow: hidden;
}

/* add a min width to avoid horizontal shift on line numbers */
code.hljs .hljs-ln-line.hljs-ln-n {
  min-width: 1.25em;
}

/* tables */
table {
  border-collapse: collapse;
  border-spacing: 0
}

table {
  margin-bottom: 1.25em;
  border: solid 1px #dedede
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  text-align: left
}

table tr th, table tr td {
  padding: .5625em .625em;
  font-size: inherit
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
  display: table-cell;
  line-height: 1.6
}

td.tableblock > .content {
  margin-bottom: 1.25em
}

td.tableblock > .content > :last-child {
  margin-bottom: -1.25em
}

table.tableblock, th.tableblock, td.tableblock {
  border: 0 solid #dedede
}

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock {
  border-width: 0 1px 1px 0
}

table.grid-all > tfoot > tr > .tableblock {
  border-width: 1px 1px 0 0
}

table.grid-cols > * > tr > .tableblock {
  border-width: 0 1px 0 0
}

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock {
  border-width: 0 0 1px
}

table.grid-rows > tfoot > tr > .tableblock {
  border-width: 1px 0 0
}

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child {
  border-right-width: 0
}

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock {
  border-bottom-width: 0
}

table.frame-all {
  border-width: 1px
}

table.frame-sides {
  border-width: 0 1px
}

table.frame-topbot, table.frame-ends {
  border-width: 1px 0
}

.reveal table th.halign-left, .reveal table td.halign-left {
  text-align: left
}

.reveal table th.halign-right, .reveal table td.halign-right {
  text-align: right
}

.reveal table th.halign-center, .reveal table td.halign-center {
  text-align: center
}

.reveal table th.valign-top, .reveal table td.valign-top {
  vertical-align: top
}

.reveal table th.valign-bottom, .reveal table td.valign-bottom {
  vertical-align: bottom
}

.reveal table th.valign-middle, .reveal table td.valign-middle {
  vertical-align: middle
}

table thead th, table tfoot th {
  font-weight: bold
}

tbody tr th {
  display: table-cell;
  line-height: 1.6
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
  font-weight: bold
}

thead {
  display: table-header-group
}

.reveal table.grid-none th, .reveal table.grid-none td {
  border-bottom: 0 !important
}

/* kbd macro */
kbd {
  font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace;
  display: inline-block;
  color: rgba(0, 0, 0, .8);
  font-size: .65em;
  line-height: 1.45;
  background: #f7f7f7;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em white inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em #fff inset;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}

.keyseq kbd:first-child {
  margin-left: 0
}

.keyseq kbd:last-child {
  margin-right: 0
}

/* callouts */
.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: rgba(0, 0, 0, .8);
  -webkit-border-radius: 50%;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: "Open Sans", "DejaVu Sans", sans-serif;
  font-style: normal;
  font-weight: bold
}

.conum[data-value] * {
  color: #fff !important
}

.conum[data-value] + b {
  display: none
}

.conum[data-value]:after {
  content: attr(data-value)
}

pre .conum[data-value] {
  position: relative;
  top: -.125em
}

b.conum * {
  color: inherit !important
}

.conum:not([data-value]):empty {
  display: none
}

/* Callout list */
.hdlist > table, .colist > table {
  border: 0;
  background: none
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
  background: none
}

td.hdlist1, td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}

td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}

/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}

.colist td:not([class]):first-child img {
  max-width: none
}

.colist td:not([class]):last-child {
  padding: .25em 0
}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table {
  border: 0
}

/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist > table th, .reveal .colist > table td {
  border-bottom: 0
}

/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td {
  line-height: inherit
}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
}

.columns .slide-content > .column > * {
  padding: .75rem;
}

/* See #353 */
.columns.wrap .slide-content > .column {
  flex-basis: auto;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.text-left {
  text-align: left !important
}

.text-right {
  text-align: right !important
}

.text-center {
  text-align: center !important
}

.text-justify {
  text-align: justify !important
}

.footnotes {
  border-top: 1px solid rgba(0, 0, 0, 0.2);
  padding: 0.5em 0 0 0;
  font-size: 0.65em;
  margin-top: 4em;
}

.byline {
  font-size:.8em
}
ul.byline {
  list-style-type: none;
}
ul.byline li + li {
  margin-top: 0.25em;
}
</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/v4-shims.min.css"><style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style><link rel="stylesheet" href="custom/customcss.css"></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Refactoring</h1><div class="preamble"><div class="paragraph"><p>Introduction</p></div></div></section>
<section id="_introduction" class="dark background center"><div class="slide-content"><div class="paragraph"><p>Refactoring et Agilité</p></div>
<div class="paragraph"><p>TODO trouver une phrase d&#8217;accroche</p></div></div></section>
<section><section id="_que_faisons_nous_quand_nous_développons"><h2>Que faisons nous quand nous développons ?</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Réponse à un besoin humain</p><div class="ulist"><ul><li><p>Pas de besoin, pas de projet !</p></li></ul></div></li><li class="fragment"><p>Traduction</p><div class="ulist"><ul><li><p>Des concepts humains &#8658; code exécutable par un ordinateur</p></li><li><p>Du code exécuté &#8658; concepts manipulables par des humains</p></li></ul></div></li><li class="fragment"><p>Plusieurs traductions, plusieurs univers</p><div class="ulist"><ul><li><p>Client(e), Architecte, Développeuse et Développeur, Fonctionnel, Technique, Management</p></li></ul></div></li><li class="fragment"><p>Traduire, c&#8217;est trahir</p><div class="ulist"><ul><li><p>Des univers aux fondamentaux différents</p></li></ul></div></li></ul></div></div></section><section id="_comment_sassurer_que_nous_développons_bien"><h2>Comment s&#8217;assurer que nous développons bien ?</h2><div class="slide-content"><div class="openblock left-column-2-3"><div class="content"><div class="ulist"><ul><li><p>Notion de Qualité Logicielle</p><div class="ulist"><ul><li><p>Ensemble de caractéristiques attendues</p></li><li><p><a href="https://en.wikipedia.org/wiki/ISO/IEC_9126" target="_blank">Norme Qualité Logicielle ISO 9126</a></p></li></ul></div></li><li><p>Capacité fonctionnelle</p><div class="ulist"><ul><li><p><em>Est-ce que le logiciel répond aux besoins fonctionnels exprimés ?</em></p></li></ul></div></li><li><p>Maintenabilité</p><div class="ulist"><ul><li><p><em>Est-ce que le logiciel requiert peu d&#8217;effort à son évolution par rapport aux nouveaux besoins ?</em></p></li></ul></div></li></ul></div></div></div>
<div class="openblock right-column-1-3"><div class="content"><div class="imageblock right"><img src="../images/ISO_9126_quality_(en).png" alt="ISO 9126 quality (en)" width="90%"></div>
<div class="paragraph x-small"><p><a href="https://commons.wikimedia.org/wiki/File:ISO_9126_quality_(en).svg" class="bare">https://commons.wikimedia.org/wiki/File:ISO_9126_quality_(en).svg</a></p></div></div></div></div></section><section id="_maîtriser_la_complexité" class="center"><h2>Maîtriser la complexité</h2><div class="slide-content"><div class="imageblock half-size"><img src="images/complexity.gif" alt="complexity"></div></div></section><section id="_maîtriser_la_complexité_2"><h2>Maîtriser la complexité</h2><div class="slide-content"><div class="sidebarblock"><div class="content"><div class="ulist"><ul><li><p>Complexité vs Complication ?</p><div class="ulist"><ul><li><p><strong><em>Complexe</em></strong> s&#8217;oppose à <strong><em>simple</em></strong> &#8658; <strong><em>indirecte</em></strong>,</p></li><li><p><strong><em>Compliqué</em></strong> s&#8217;oppose à <strong><em>facile</em></strong> &#8658; <strong><em>difficile</em></strong>.</p></li></ul></div></li></ul></div></div></div>
<div class="ulist"><ul><li class="fragment"><p>Complexité du projet</p><div class="ulist"><ul><li><p>Besoins humains, Outils techniques</p></li></ul></div></li><li class="fragment"><p>La complexité engendre la complexité</p><div class="ulist"><ul><li><p>Problème humain complexe &#8658; code complexe</p></li></ul></div></li><li class="fragment"><p>Développement &#8658; activité complexe peut devenir vite très compliquée</p><div class="ulist"><ul><li><p>Beaucoup d&#8217;éléments &amp; d&#8217;aspects à prendre en compte</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Un logiciel est une solution en réponse à un besoin humain. Si ce besoin est simple, simple à exprimer, à formaliser, à traduire en code, que la traduction est assez directe, la solution sera simple également. Mais de tels besoins, à part des scripts très modestes, ne nécessitent pas de méthodologie.</p></div>
<div class="paragraph"><p>Dès que le besoin devient plus conséquent, qu&#8217;il est nécessaire de passer par plusieurs étapes de traductions, les choses deviennent beaucoup moins facile.
Il s&#8217;agit de prendre en compte la notion de complexité</p></div>
<div class="paragraph"><p>Dans la construction d&#8217;une solution logicielle, de nombreux éléments sont souvent en interaction et s&#8217;influencent mutuellement. Plusieurs aspects à prendre en compte: la sécurité, la cohérence de l&#8217;application, les domaines métiers, les tests, etc.
L&#8217;un des risques principaux est de perdre de vue ce que l&#8217;on souhaite faire, de s&#8217;éparpiller, d&#8217;être un peu en état de stupeur devant l&#8217;ensemble des connaissances à mobiliser.</p></div></aside></div></section><section id="_complexité" class="splash background center"><div class="slide-content"><div class="paragraph"><p>Développer un logiciel,<br>
c&#8217;est aussi garder la complexité<br>
<strong>sous contrôle</strong></p></div></div></section></section>
<section><section id="_agilité"><h2>Agilité</h2><div class="slide-content"><div class="openblock left-column-2-3"><div class="content"><div class="ulist"><ul><li><p>Réponse à la complexité</p><div class="ulist"><ul><li><p>Expériences passées submergées par la complexité</p></li><li><p>Nouvelle façon de définir et atteindre la capacité fonctionnelle</p></li></ul></div></li><li><p>Adopter une démarche itérative et incrémentale</p><div class="ulist"><ul><li><p>Ajouts de fonctionnalité successifs</p></li><li><p>Feedback rapide du client</p></li><li><p>Ne pas prétendre à l&#8217;exhaustivité</p></li><li><p>Se donner le droit de découvrir et changer</p></li></ul></div></li></ul></div></div></div><div class="openblock right-column-1-3"><div class="content"><div class="imageblock middle"><img src="images/iterative-incremental-mona-lisa-b8d2b.png" alt="iterative incremental mona lisa b8d2b"></div></div></div></div></section><section id="_agilité_2"><h2>Agilité</h2><div class="slide-content"><div class="ulist"><ul><li><p>Sur le plan purement technique</p><div class="ulist"><ul><li><p>Conception (<em>Software Design</em>) toujours en évolution</p></li><li><p>Une recherche de l&#8217;excellence technique</p></li></ul></div></li><li><p>Sur le plan management</p><div class="ulist"><ul><li><p>Avoir confiance dans les personnes en charge du développement.</p></li><li><p>Une remise en cause et une adaptation permanente</p></li><li><p>Un rythme de travail <strong>soutenable</strong></p></li></ul></div></li></ul></div></div></section></section>
<section id="_maintenabilité"><h2>Maintenabilité</h2><div class="slide-content"><div class="paragraph"><p>Mesure de la facilité</p></div>
<div class="ulist left-column"><ul><li class="fragment"><p>Faciliter la <strong>compréhension</strong></p></li><li class="fragment"><p>Faciliter l'<strong>analyse</strong></p></li></ul></div>
<div class="ulist right-column"><ul><li class="fragment"><p>Faciliter la <strong>modification</strong></p></li><li class="fragment"><p>Faciliter les <strong>tests</strong></p></li><li class="fragment"><p>Faciliter l'<strong>assemblage des composants</strong></p></li></ul></div>
<div class="paragraph reset-column fragment"><p>Faire évoluer un logiciel à un rythme <strong>soutenable</strong> &#8658; garantir maintenabilité</p></div>
<div class="paragraph center fragment"><p>... à condition de ne pas être trop <strong>endetté</strong>.</p></div>
<aside class="notes"><div class="ulist"><ul><li><p>Faciliter la compréhension</p><div class="ulist"><ul><li><p><strong>Que</strong> font les composants ?</p></li><li><p><strong>Comment</strong> le font-il ?</p></li></ul></div></li><li><p>Faciliter l&#8217;analyse</p><div class="ulist"><ul><li><p>Trouver <strong>qui</strong> est responsable de <strong>quoi</strong>,</p></li><li><p>Évaluer l'<strong>impact</strong> d&#8217;une modification,</p></li><li><p><strong>Diagnostiquer</strong> rapidement les <strong>erreurs</strong> en cours d&#8217;exécution.</p></li></ul></div></li><li><p>Faciliter la modification</p><div class="ulist"><ul><li><p><strong>Corriger</strong> des bugs,</p></li><li><p><strong>Améliorer</strong> des parties de code,</p><div class="ulist"><ul><li><p>Meilleures performances</p></li><li><p>Économiser des ressources</p></li></ul></div></li><li><p><em>Le tout sans redouter que cela ne vous éclate à la figure.</em></p></li></ul></div></li><li><p>Faciliter les tests</p><div class="ulist"><ul><li><p><strong>Concevoir</strong> des tests,</p></li><li><p><strong>Écrire</strong> des tests,</p></li><li><p>Les <strong>exécuter</strong> le plus fréquemment possible.</p></li></ul></div></li></ul></div></aside></div></section>
<section><section id="_dette_technique"><h2>Dette technique</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Choisir, c&#8217;est regretter</p><div class="ulist"><ul><li><p>Développer &#8658; choix à court termes</p><div class="ulist"><ul><li><p>Contraintes de temps et de budget</p></li><li><p>Personnes/compétences/expertises disponibles</p></li></ul></div></li></ul></div></li><li class="fragment"><p>Choix à court terme &#8658; entropie naturelle</p><div class="ulist"><ul><li><p>&#8658; Compromis, maladresses, manques de clairvoyances, renoncements</p></li><li><p>&#8658; Compréhension ou conception obsolète ou incomplète</p></li></ul></div></li></ul></div><aside class="notes"><div class="paragraph"><p>Au cours d&#8217;un développement, il est naturel que des compromis, des maladresses ou des raccourcis soient commis. Cela fait parfois gagner du temps ou des ressources, parfois cela est du à un manque de clairvoyance ou plus simplement à une vision de la conception qui n&#8217;était pas la plus pertinente mais qui pénalisent la maintenabilité de l&#8217;application et sa faculté à évoluer.</p></div></aside></div></section><section id="_dette_technique_2"><h2>Dette technique</h2><div class="slide-content"><div class="ulist"><ul><li><p>Dette technique</p><div class="ulist"><ul><li><p><em>Dette</em> :  Renoncement accélérant le développement</p></li><li><p><em>Remboursement</em> : Réécriture du code</p></li></ul></div></li><li><p>Endettement</p><div class="ulist"><ul><li><p>Dette remboursée <em>plus tard</em> &#8658; Dette plus coûteuse à rembourser</p></li></ul></div></li></ul></div>
<div class="paragraph center"><p><span class="image"><img src="images/dette-technique_1.svg" alt="alt"></span>
<span class="image"><img src="images/dette-technique_2.svg" alt="alt"></span></p></div></div></section><section id="_dette_technique_appréciation"><h2>Dette technique &gt; Appréciation</h2><div class="slide-content"><div class="ulist"><ul><li><p>Toutes les dettes ne se valent pas</p><div class="ulist"><ul><li><p>Choix assumé pour se développer</p></li><li><p>Descente aux enfer par méconnaissance</p></li><li><p>&#8658; Deux axes d&#8217;évaluation</p></li></ul></div></li></ul></div>
<div class="openblock left-column"><div class="content"><div class="ulist"><ul><li><p>Réfléchie</p><div class="ulist"><ul><li><p>Limitation</p><div class="ulist"><ul><li><p>A une partie isolée du code ou généralisée</p></li></ul></div></li><li><p>Prudence</p><div class="ulist"><ul><li><p>Aspect marginal ou au coeur de l&#8217;application</p></li></ul></div></li></ul></div></li></ul></div></div></div>
<div class="openblock right-column"><div class="content"><div class="ulist"><ul><li><p>Volontaire</p><div class="ulist"><ul><li><p>En connaissance de cause</p><div class="ulist"><ul><li><p>Conscience et compétence</p></li><li><p>&#8230;&#8203; ou absence des deux</p></li></ul></div></li><li><p>Recul</p><div class="ulist"><ul><li><p>Réflexion sur ce qu&#8217;il aurait possible de <em>mieux</em> faire</p></li></ul></div></li></ul></div></li></ul></div></div></div></div></section><section id="_dette_technique_appréciation_2"><h2>Dette technique &gt; Appréciation</h2><div class="slide-content"><div class="paragraph center"><p><span class="image"><img src="images/dette-technique-quadrant.svg" alt="dette technique quadrant"></span></p></div>
<div class="paragraph fragment"><p>Ne pas en faire un sujet de honte</p></div>
<div class="paragraph fragment"><p>Nécessité d&#8217;en avoir conscience et de la résorber</p></div>
<aside class="notes"><div class="paragraph"><p>Recommandations de lecture</p></div>
<div class="paragraph"><p><a href="https://www.lemondeinformatique.fr/actualites/lire-la-dette-technique-reste-mal-comprise-86974.html" class="bare">https://www.lemondeinformatique.fr/actualites/lire-la-dette-technique-reste-mal-comprise-86974.html</a></p></div>
<div class="paragraph"><p><a href="https://wikiagile.fr/index.php?title=Quadrant_de_la_Dette_Technique" class="bare">https://wikiagile.fr/index.php?title=Quadrant_de_la_Dette_Technique</a></p></div></aside></div></section><section id="_dette_technique_mesure"><h2>Dette technique &gt; Mesure</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Écart aux bonnes pratiques</p></li><li class="fragment"><p>Bonnes pratiques</p><div class="ulist"><ul><li><p>Heuristiques propres à chaque écosystème</p></li><li><p>Principes reconnus <em>(Code Clean)</em></p></li><li><p>Design Patterns <em>(GoF, GRASP, &#8230;&#8203;)</em></p></li></ul></div></li><li class="fragment"><p>Référentiel de mauvaises pratiques</p><div class="ulist"><ul><li><p>Anti patterns</p></li><li><p>Bad smells</p></li></ul></div></li><li class="fragment"><p>Systèmes d&#8217;analyse qualité</p><div class="ulist"><ul><li><p>Sonarqube, qodana, &#8230;&#8203;</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Les moteurs d&#8217;analyse qualité sont des outils très puissants, le plus connu étant sonarqube. Mais il n&#8217;est pas forcément nécessaire d&#8217;utiliser, encore moins de mettre en oeuvre, un tel système pour avoir une idée des écarts manifestes et corrigeables. Des linters suffisent.</p></div></aside></div></section></section>
<section><section id="_ultra_rapide_présentation_de_sonarqube"><h2>Ultra rapide présentation de Sonarqube</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Analyseur static open source</p><div class="ulist"><ul><li><p>Evaluation de la dette suivant plusieurs aspects</p></li><li><p>Détail des point litigieux</p></li><li><p>Une forme d&#8217;objectivation</p></li></ul></div></li><li class="fragment"><p>Rapide présentation</p><div class="ulist"><ul><li><p>Je vous en met plein les mirettes</p></li><li><p>Nous jouerons plus tard si nous en avons le temps</p></li><li><p>Vous aurez le temps à la maison de jouer avec :)</p></li></ul></div></li></ul></div><div class="imageblock at-middle-right"><img src="images/sonarqube/2023-11-12T18-33-06-601Z.png" alt="2023 11 12T18 33 06 601Z"></div></div></section><section id="_lancement_de_limage_sonarqube"><h2>Lancement de l&#8217;image sonarqube</h2><div class="slide-content"><div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker run -d --name sonarqube -p 9000:9000 -p 9092:9092 sonarqube</code></pre></div></div>
<div class="ulist smaller simple"><ul><li><p>Se loguer avec <em>admin/admin</em></p></li><li><p>Changer en <em>admin/refact</em></p></li></ul></div>
<div class="paragraph"><p>Repérer l&#8217;adresse IP</p></div>
<div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' sonarqube</code></pre></div></div></div></section><section id="_créer_le_projet_dans_sonarqube"><h2>Créer le projet dans Sonarqube</h2><div class="slide-content"><div class="paragraph"><p>Sélectionner <em>"Create project Manually"</em></p></div>
<div class="imageblock center"><img src="images/sonarqube/12-13-31_How_do_you_want_to_create_your_project.png" alt="12 13 31 How do you want to create your project" width="600"></div></div></section><section id="_créer_le_projet_dans_sonarqube_2"><div class="slide-content"><div class="paragraph"><p>Associer un id et un nom</p></div>
<div class="imageblock center"><img src="images/sonarqube/12-35-21_Create_a_project.png" alt="12 35 21 Create a project" width="600"></div></div></section><section id="_créer_le_projet_dans_sonarqube_3"><div class="slide-content"><div class="paragraph"><p>Utiliser la configuration globale</p></div>
<div class="imageblock center"><img src="images/sonarqube/12-35-38_Create_a_project.png" alt="12 35 38 Create a project" width="600"></div></div></section><section id="_créer_le_projet_dans_sonarqube_4"><div class="slide-content"><div class="paragraph"><p>Sélectionner l&#8217;analyse locale</p></div>
<div class="imageblock center"><img src="images/sonarqube/12-35-55_SonarQube.png" alt="12 35 55 SonarQube" width="600"></div></div></section><section id="_créer_le_projet_dans_sonarqube_5"><div class="slide-content"><div class="paragraph"><p>Créer un token d&#8217;authentification</p></div>
<div class="imageblock center"><img src="images/sonarqube/12-37-13_SonarQube.png" alt="12 37 13 SonarQube" width="600"></div></div></section><section id="_créer_le_projet_dans_sonarqube_6"><div class="slide-content"><div class="paragraph"><p>Continue</p></div>
<div class="imageblock center"><img src="images/sonarqube/12-37-27_SonarQube.png" alt="12 37 27 SonarQube" width="600"></div></div></section><section id="_créer_le_projet_dans_sonarqube_7"><div class="slide-content"><div class="paragraph"><p>Vous avez un exemple des paramètres pour lancer l&#8217;analyse</p></div>
<div class="imageblock center"><img src="images/sonarqube/12-38-22_SonarQube.png" alt="12 38 22 SonarQube" width="600"></div></div></section><section id="_projet_python"><h2>Projet python</h2><div class="slide-content"><div class="paragraph"><p>Include un fichier sonar-properties <em>ultra-simpliste</em></p></div>
<div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="language">sonar.projectKey=tm2raw
sonar.organization=ias
sonar.python.version=3
sonar.sources=src
sonar.dynamicAnalysis=reuseReports
sonar.python.coverage.reportPaths=*coverage*.xml</code></pre></div></div></div></section><section id="_préparer_les_tests"><h2>Préparer les tests</h2><div class="slide-content"><div class="paragraph"><p>Installer des libraries propres à Python pour l&#8217;analyse</p></div>
<div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">pip install pylint pytest pytest-cov</code></pre></div></div></div></section><section id="_lancer_les_tests"><h2>Lancer les tests</h2><div class="slide-content"><div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">pytest -v  tests/unit/ --cov --cov-report=xml --cov-report=html</code></pre></div></div></div></section><section id="_lancer_lanalyse"><h2>Lancer l&#8217;analyse</h2><div class="slide-content"><div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">./sonnar-scanner/bin/sonar-scanner  -Dsonar.host.url=http://172.17.0.2:9000   -Dsonar.token=sqp_5e14217deb6e23ad8c728041f41bd736fb478b3c</code></pre></div></div>
<div class="listingblock big"><div class="content"><pre class="CodeRay highlight"><code data-lang="bash">INFO: Scanner configuration file: /home/mdexet/Workdirs/MAJIS/SGS/majis-tm2raw-pipeline/sonnar-scanner/conf/sonar-scanner.properties
INFO: Project root configuration file: /home/mdexet/Workdirs/MAJIS/SGS/majis-tm2raw-pipeline/sonar-project.properties
INFO: SonarScanner 5.0.1.3006
INFO: Java 17.0.7 Eclipse Adoptium (64-bit)
...
INFO: Analysis report compressed in 101ms, zip size=150.6 kB
INFO: Analysis report uploaded in 14ms
INFO: ANALYSIS SUCCESSFUL, you can find the results at: http://172.17.0.2:9000/dashboard?id=tm2raw
INFO: Note that you will be able to access the updated dashboard once the server has processed the submitted analysis report
INFO: More about the report processing at http://172.17.0.2:9000/api/ce/task?id=AYvEwhGUMb_Dhw3teUnJ
INFO: Analysis total time: 7.482 s
INFO: ------------------------------------------------------------------------
INFO: EXECUTION SUCCESS
INFO: ------------------------------------------------------------------------
INFO: Total time: 8.465s
INFO: Final Memory: 40M/188M
INFO: ------------------------------------------------------------------------</code></pre></div></div></div></section><section id="_voir_lanalyse"><h2>Voir l&#8217;analyse</h2><div class="slide-content"><div class="paragraph"><p>Aller sur l&#8217;URL fournie <a href="http://172.17.0.2:9000/dashboard?id=tm2raw" class="bare">http://172.17.0.2:9000/dashboard?id=tm2raw</a></p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-07-59-786Z.png" alt="2023 11 11T13 07 59 786Z" width="800"></div></div></section><section id="_voir_lanalyse_1"><div class="slide-content"><div class="paragraph"><p>Vue générale de l&#8217;évaluation de la qualité</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-08-56-557Z.png" alt="2023 11 11T13 08 56 557Z" width="800"></div></div></section><section id="_voir_lanalyse_2"><div class="slide-content"><div class="paragraph"><p>Infographie générale</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-09-21-434Z.png" alt="2023 11 11T13 09 21 434Z" width="800"></div></div></section><section id="_voir_lanalyse_3"><div class="slide-content"><div class="paragraph"><p>Evaluation de la maintenabilité</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-10-25-598Z.png" alt="2023 11 11T13 10 25 598Z" width="800"></div></div></section><section id="_voir_lanalyse_4"><div class="slide-content"><div class="paragraph"><p>Détail d&#8217;un item : respect des standard Clean code</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-13-02-542Z.png" alt="2023 11 11T13 13 02 542Z" width="800"></div></div></section><section id="_voir_lanalyse_5"><div class="slide-content"><div class="paragraph"><p>Détail d&#8217;un item : Maintenabilité</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-13-29-185Z.png" alt="2023 11 11T13 13 29 185Z" width="800"></div></div></section><section id="_voir_lanalyse_6"><div class="slide-content"><div class="paragraph"><p>Détail d&#8217;un item : Maintenabilité</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-14-04-477Z.png" alt="2023 11 11T13 14 04 477Z" width="800"></div></div></section><section id="_voir_lanalyse_7"><div class="slide-content"><div class="paragraph"><p>Détail d&#8217;un item : Code Smell</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-14-32-923Z.png" alt="2023 11 11T13 14 32 923Z" width="800"></div></div></section><section id="_voir_lanalyse_8"><div class="slide-content"><div class="paragraph"><p>Vue de détail dans le code</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-18-37-199Z.png" alt="2023 11 11T13 18 37 199Z" width="800"></div></div></section><section id="_voir_lanalyse_9"><div class="slide-content"><div class="paragraph"><p>Explication du problème avec exemple</p></div>
<div class="imageblock center"><img src="images/sonarqube/2023-11-11T13-17-11-927Z.png" alt="2023 11 11T13 17 11 927Z" width="800"></div></div></section><section id="_comment_résorbe_t_on_la_dette_technique" class="splash background center"><h2>Comment résorbe-t-on la dette technique ?</h2><div class="slide-content"><div class="paragraph fragment"><p>En <em>refactorisant</em> le code.</p></div></div></section></section>
<section><section id="_refactoring_définition"><h2>Refactoring : Définition</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p><em>Refactorisation (technique)</em>:</p><div class="ulist"><ul><li><p>Modification de la structure interne d&#8217;un logiciel<br>
afin de le rendre plus facile à comprendre<br>
et moins coûteux à faire évoluer<br>
sans changer son comportement observable</p></li></ul></div></li><li class="fragment"><p><em>Refactoriser (processus)</em>:</p><div class="ulist"><ul><li><p>Restructurer un logiciel<br>
en appliquant une série de refactorisations<br>
sans changer son comportement observable</p></li></ul></div></li></ul></div></div></section><section id="_refactoring_concepts_clef"><h2>Refactoring : Concepts clef</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Amélioration <em>qualités internes</em></p><div class="ulist"><ul><li><p>&#8658; Préoccupation des développeuses et développeurs</p></li></ul></div></li><li class="fragment"><p>Conservations <em>qualités externes</em> observables</p><div class="ulist"><ul><li><p>&#8658; Ne concerne pas les utilisatrices et utilisateurs</p></li><li><p>Iso-fonctionnalités</p></li></ul></div></li><li class="fragment"><p>Allocations de ressources</p><div class="ulist"><ul><li><p>&#8658; Préoccupation gestion de projet</p><div class="ulist"><ul><li><p>Connaissance nécessaire</p></li><li><p>Philosophie, avantages, inconvénients</p></li></ul></div></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>La grille de lecture du refactoring ne porte pas sur l&#8217;exécution d&#8217;un programme, car on le suppose suffisamment satisfaisant, ne serait-ce que le temps de procéder à la modification de son code. Le refactoring se concentre la notion de modification du code et ses effets comme objets principaux. Il pourrait être considéré, dans sa forme la plus extrême, comme un jeu intellectuel, aux effets très concrets pourtant dans la vie d&#8217;un projet.</p></div></aside></div></section><section id="_refactoring_lévolution_comme_objet"><h2>Refactoring : L&#8217;évolution comme objet</h2><div class="slide-content"><div class="quoteblock"><blockquote><div class="paragraph"><p>Le véritable test pour savoir si un code est bon est de mesurer sa facilité à le modifier</p></div></blockquote><div class="attribution">&#8212; Martin Fowler</div></div>
<div class="ulist"><ul><li><p>Refactoring &#8658; capacités d&#8217;évolution du code</p><div class="ulist"><ul><li><p>A l&#8217;opposé du "Tombe-en-marche"</p></li><li><p>Un logiciel est un objet toujours en évolution</p></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>De même l&#8217;ingénierie navale cherche à minimiser l&#8217;impact des avaries et des voix d&#8217;eau sur un navire, le refactoring cherche à l&#8217;impact des modifications sur un code.
Et ce n&#8217;est pas parce que le navire flotte qu&#8217;il est dans un état satisfaisant.</p></div></aside></div></section><section id="_refactoring_objectifs"><h2>Refactoring : Objectifs ?</h2><div class="slide-content"><div class="ulist simple"><ul><li><p>Faciliter la compréhension</p></li><li><p>Améliorer la conception</p></li><li><p>Améliorer la confiance</p></li><li><p>Être plus productif</p></li></ul></div></div></section><section id="_refactoring_quand"><h2>Refactoring : Quand ?</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Quand refactoriser</p><div class="ulist"><ul><li><p>Avant d&#8217;ajouter une nouvelle fonctionnalité (<em>Feature</em>)</p></li><li><p>Quand la mise sous tests est problématique (<em>Testability</em>)</p></li><li><p>Quand le code semble obscure ou ésotérique, bien qu&#8217;il fonctionne (<em>Understanding</em>)</p></li><li><p>Quand des symptômes sont identifiés ( <em>Bad Smells</em>)</p></li><li><p>Quand des petits défauts sont repérés (<em>Boy Scout Rules</em>)</p></li><li><p>Lors d&#8217;une revue de code ou d&#8217;une analyse qualité</p></li></ul></div></li><li class="fragment"><p>Quand ne <strong>PAS</strong> refactoriser ?</p><div class="ulist"><ul><li><p>Quand il est plus facile de le réécrire from scratch</p><div class="ulist"><ul><li><p>On ne tire pas sur une ambulance :/</p></li></ul></div></li><li><p>Quand il n&#8217;y a pas de bonnes raisons de le faire</p></li></ul></div></li></ul></div></div></section><section id="_refactoring_une_activité_particulière"><h2>Refactoring : une activité particulière ?</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Non, une activité <em>normale</em></p><div class="ulist"><ul><li><p>Activité de développement !</p></li></ul></div></li><li class="fragment"><p>Doit-elle être traiter à part ?</p><div class="ulist"><ul><li><p><em>Non</em> &#8658; entretien du code</p></li><li><p><em>Oui</em> &#8658; si dette écrasante &#8658; plan d&#8217;action et allocation dédiée</p></li></ul></div></li><li class="fragment"><p>Management/Gestion de projet</p><div class="ulist"><ul><li><p>Le refactoring =/= signe de problème</p><div class="ulist"><ul><li><p>Signe de bonne santé &#8658; des équipes consciencieuses</p></li></ul></div></li><li><p>Principe agile :</p><div class="ulist"><ul><li><p>&#8658; Faite confiance à vos équipes, elles savent ce qu&#8217;elles font.</p></li></ul></div></li></ul></div></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Le refactoring n&#8217;est pas une phase particulière. Elle fait partie des outils qu&#8217;un développeur(se) professionnel(le) doit utiliser</p></div>
<div class="paragraph"><p>Le manager doit comprendre qu&#8217;il fait partie de l&#8217;estimation de charge.
Le manager ne doit pas se limiter à la livraison de fonctionnalité, de même que le gestionnaire d&#8217;une flotte d&#8217;avions ne doit se concentrer uniquement sur les rotations de ces aéronefs: négliger les opérations de maintenance, périodique ou quotidienne, c&#8217;est aller droit dans le mur.</p></div>
<div class="paragraph"><p>Le manager doit faire confiance à ces équipes de développement. C&#8217;est un principe Agile</p></div></aside></div></section></section>
<section><section id="_refactoring_concrètement" class="splash background center"><h2>Refactoring : Concrètement ?</h2><div class="slide-content"><div class="paragraph"><p>On parle on parle</p></div></div></section><section id="_refactoring_concrètement_2"><h2>Refactoring : Concrètement ?</h2><div class="slide-content"><div class="ulist"><ul><li><p>Ensemble de techniques et d&#8217;habitudes</p><div class="ulist"><ul><li><p>Vous les pratiquez partiellement sans le savoir</p></li></ul></div></li><li><p>Martin Fowler a listé environ 70 techniques dans un livre célèbre</p></li></ul></div>
<div class="paragraph center"><p><span class="image"><img src="images/refact2.jpg" alt="refact2"></span></p></div>
<aside class="notes"><div class="paragraph"><p>Martin Fowler a publié plusieurs éditions de son célèbre livre, d&#8217;un point de vue C/C++/Java à un point de vue Ruby puis Javascript.
Tous</p></div></aside></div></section><section id="_refactoring_ressources"><h2>Refactoring : ressources</h2><div class="slide-content"><div class="ulist simple"><ul><li><p>Catalogue des techniques en ligne</p><div class="ulist"><ul><li><p><a href="https://refactoring.com/catalog/" class="bare">https://refactoring.com/catalog/</a></p></li></ul></div></li><li><p>Refactoring Guru</p><div class="ulist"><ul><li><p><a href="https://refactoring.guru/fr" class="bare">https://refactoring.guru/fr</a></p></li></ul></div></li><li><p>Cheasheets</p><div class="ulist"><ul><li><p><a href="https://www.thekua.com/publications/RefactoringCheatSheet.pdf" class="bare">https://www.thekua.com/publications/RefactoringCheatSheet.pdf</a></p></li></ul></div></li></ul></div></div></section></section>
<section><section id="_techniques_de_refactoring"><h2>Techniques de refactoring</h2><div class="slide-content"><div class="openblock left-column"><div class="content"><div class="ulist"><ul><li><p>Techniques divisées en 6 catégories</p></li><li><p>Très (Trop) nombreuses</p><div class="ulist"><ul><li><p>Nous n&#8217;allons pas <strong>toutes</strong> les voir</p></li><li><p>Mais ça vaut le coup de les parcourir !</p></li></ul></div></li></ul></div></div></div><aside class="notes"><div class="paragraph"><p>Il y a eu plusieurs éditions.
Les 6 catégories sont les plus connues et ce sont celles qui sont généralement reprises sur le web.</p></div></aside><div class="openblock right-column fragment"><div class="content"><div class="ulist"><ul><li><p>Refactoring technique categories</p><div class="ulist"><ul><li><p>Composing Methods</p></li><li><p>Moving Features Between Objects</p></li><li><p>Organizing Data</p></li><li><p>Simplifying Conditional Expressions</p></li><li><p>Making Method Calls Simpler</p></li><li><p>Dealing with Generalization</p></li></ul></div></li></ul></div></div></div></div></section><section id="_composing_methods"><h2>Composing Methods</h2><div class="slide-content"><div class="ulist"><ul><li><p>Extract Method</p></li><li><p>Introduce Explaining Variable</p></li><li><p>Inline Method</p></li><li><p>Replace Temp with Query</p></li><li><p>Split Temporary Variable</p></li><li><p>Remove Assignments to Parameters</p></li><li><p>Replace Method with Method Object</p></li></ul></div></div></section><section id="_moving_features_between_objects"><h2>Moving Features Between Objects</h2><div class="slide-content"><div class="ulist"><ul><li><p>Move Method</p></li><li><p>Move Field</p></li><li><p>Extract Class</p></li><li><p>Hide Delegate (+ Remove Middle Man)</p></li><li><p>Introduce Local Extension</p></li></ul></div></div></section><section id="_organizing_data"><h2>Organizing Data</h2><div class="slide-content"><div class="ulist"><ul><li><p>Replace Data Value with Object</p></li><li><p>Replace Array with Object</p></li><li><p>Replace Magic Number with Symbolic Constant</p></li><li><p>Replace Type Code with Class</p></li><li><p>Encapsulate Collection</p></li></ul></div></div></section><section id="_simplifying_conditional_expressions"><h2>Simplifying Conditional Expressions</h2><div class="slide-content"><div class="ulist"><ul><li><p>Decompose Conditional</p></li><li><p>Consolidate Conditional Expression</p></li><li><p>Consolidate Duplicate Conditional Fragments</p></li><li><p>Remove Control Flag</p></li><li><p>Replace Nested Conditional with Guard Clauses</p></li><li><p>Replace Conditional with Polymorphism</p></li><li><p>Introduce Null Object</p></li><li><p>Introduce Assertion</p></li></ul></div></div></section><section id="_making_method_calls_simpler"><h2>Making Method Calls Simpler</h2><div class="slide-content"><div class="ulist"><ul><li><p>Rename Method</p></li><li><p>Separate Query from Modifier</p></li><li><p>Parameterize Method</p></li><li><p>Replace Parameter with Explicit Methods</p></li><li><p>Preserve Whole Object</p></li><li><p>Replace Parameter with Method</p></li><li><p>Introduce Parameter Object</p></li><li><p>Hide Method</p></li><li><p>Replace Constructor with Factory Method</p></li><li><p>Replace Error Code with Exception</p></li><li><p>Replace Exception with Test</p></li></ul></div></div></section><section id="_dealing_with_generalization"><h2>Dealing with Generalization</h2><div class="slide-content"><div class="ulist"><ul><li><p>Extract Subclass</p></li><li><p>Extract Superclass</p></li><li><p>Replace Inheritance with Delegation</p></li><li><p>Replace Delegation with Inheritance</p></li></ul></div></div></section></section>
<section><section id="_refactoring_le_cycle_canonique"><h2>Refactoring : le cycle canonique</h2><div class="slide-content"><div class="paragraph"><p>Les techniques de refactoring sont des  <strong>Recettes</strong></p></div><div class="openblock"><div class="content"><div class="ulist"><ul><li class="fragment"><p>Pensées pour être utilisables avec</p><div class="ulist"><ul><li><p>Editeur de texte simple</p></li><li><p>Framework de tests</p></li></ul></div></li><li class="fragment"><p>Une technique &#8658; des <strong>petits pas</strong></p><div class="ulist"><ul><li><p>Chaque pas modifie le code jusqu&#8217;à ce qu&#8217;il soit valide,</p></li><li><p>Dès qu&#8217;il est valide, le code est <strong>opérationnel</strong></p></li></ul></div></li></ul></div></div></div></div></section><section id="_refactoring_le_cycle_canonique_2"><h2>Refactoring : le cycle canonique</h2><div class="slide-content"><div class="openblock"><div class="content"><div class="ulist"><ul><li><p>Cycle canonique</p></li></ul></div>
<div class="imageblock center"><img src="images/cycle_refactoring.svg" alt="cycle refactoring"></div>
<div class="ulist"><ul><li><p>A tout moment le cycle</p><div class="ulist"><ul><li><p>Peut être suspendu en plein milieu</p></li><li><p>Peut-être reversible</p></li></ul></div></li></ul></div></div></div></div></section></section>
<section><section id="_exemple_de_refactoring_canonique_extraire_fonction"><h2>Exemple de refactoring canonique &gt; Extraire fonction</h2><div class="slide-content"><div class="openblock left-column"><div class="title">Code</div><div class="content"><div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="line-numbers"> 1</span><span class="keyword">from</span> <span class="include">dataclasses</span> <span class="keyword">import</span> <span class="include">dataclass</span>
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span><span class="decorator">@dataclass</span>
<span class="line-numbers"> 4</span><span class="keyword">class</span> <span class="class">Shipment</span>:
<span class="line-numbers"> 5</span>    price: <span class="predefined">float</span>
<span class="line-numbers"> 6</span>
<span class="line-numbers"> 7</span><span class="decorator">@dataclass</span>
<span class="line-numbers"> 8</span><span class="keyword">class</span> <span class="class">Item</span>:
<span class="line-numbers"> 9</span>    price: <span class="predefined">float</span>
<span class="line-numbers">10</span>    quantity: <span class="predefined">int</span>
<span class="line-numbers">11</span>
<span class="line-numbers">12</span><span class="decorator">@dataclass</span>
<span class="line-numbers">13</span><span class="keyword">class</span> <span class="class">Order</span>:
<span class="line-numbers">14</span>    items: <span class="predefined">list</span>[Item]
<span class="line-numbers">15</span>
<span class="line-numbers">16</span><span class="keyword">def</span> <span class="function">compute_invoice</span>(shipment, order, discount):
<span class="line-numbers">17</span>    order_price = <span class="integer">0</span>
<span class="line-numbers">18</span>    <span class="keyword">for</span> item <span class="keyword">in</span> order.items:
<span class="line-numbers">19</span>        order_price = order_price + item.price * item.quantity
<span class="line-numbers">20</span>    order_price = order_price + order_price * discount
<span class="line-numbers">21</span>    <span class="keyword">return</span> shipment.price + order_price</code></pre></div></div></div></div><div class="openblock right-column"><div class="content"><div class="listingblock"><div class="title">Tests</div><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="line-numbers"> 1</span><span class="keyword">def</span> <span class="function">test_normal_situation</span>():
<span class="line-numbers"> 2</span>    <span class="comment">#__given__</span>
<span class="line-numbers"> 3</span>    shipment = Shipment(price=<span class="float">12.0</span>)
<span class="line-numbers"> 4</span>    items=[Item(price=i*<span class="float">10.0</span>, quantity=i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="predefined">range</span>(<span class="integer">5</span>)]
<span class="line-numbers"> 5</span>    order = Order(items)
<span class="line-numbers"> 6</span>    expected = <span class="float">342.0</span>
<span class="line-numbers"> 7</span>
<span class="line-numbers"> 8</span>    <span class="comment">#__when__</span>
<span class="line-numbers"> 9</span>    actual = compute_invoice(shipment=shipment,
<span class="line-numbers">10</span>                             order=order,
<span class="line-numbers">11</span>                             discount=<span class="float">0.1</span>)
<span class="line-numbers">12</span>
<span class="line-numbers">13</span>    <span class="comment">#__then__</span>
<span class="line-numbers">14</span>    <span class="keyword">assert</span> <span class="predefined">round</span>(expected, <span class="integer">2</span>) == <span class="predefined">round</span>(actual, <span class="integer">2</span>)</code></pre></div></div></div></div></div></section><section id="_recette"><h2>Recette</h2><div class="slide-content"><div class="ulist"><ul><li><p>1) Isoler le groupe d&#8217;instructions à extraire</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="line-numbers">1</span><span class="keyword">def</span> <span class="function">compute_invoice</span>(shipment, order, discount):
<span class="line-numbers">2</span>    <span class="comment"># --8&lt;------------------------------</span>
<span class="line-numbers">3</span>    order_price = <span class="integer">0</span>
<span class="line-numbers">4</span>    <span class="keyword">for</span> item <span class="keyword">in</span> order.items:
<span class="line-numbers">5</span>        order_price = order_price + item.price * item.quantity
<span class="line-numbers">6</span>    order_price = order_price + order_price * discount
<span class="line-numbers">7</span>    <span class="comment"># ------------------------------&gt;8--</span>
<span class="line-numbers">8</span>    <span class="keyword">return</span> shipment.price + order_price</code></pre></div></div>
<div class="ulist"><ul><li><p>2) Créer une fonction dont le nom est révélateur</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">compute_invoice</span>(shipment, order, discount):
    <span class="comment"># --8&lt;------------------------------</span>
    order_price = <span class="integer">0</span>
    <span class="keyword">for</span> item <span class="keyword">in</span> order.items:
        order_price = order_price + item.price * item.quantity
    order_price = order_price + order_price * discount
    <span class="comment"># ------------------------------&gt;8--</span>
    <span class="keyword">return</span> shipment.price + order_price</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">compute_order_total_price</span>():
    ...</code></pre></div></div></div></section><section><div class="slide-content"><div class="ulist"><ul><li><p>3) Copier les instructions</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="line-numbers">1</span><span class="keyword">def</span> <span class="function">compute_invoice</span>(shipment, order, discount):
<span class="line-numbers">2</span>    <span class="comment"># --8&lt;------------------------------</span>
<span class="line-numbers">3</span>    order_price = <span class="integer">0</span>
<span class="line-numbers">4</span>    <span class="keyword">for</span> item <span class="keyword">in</span> order.items:
<span class="line-numbers">5</span>        order_price = order_price + item.price * item.quantity
<span class="line-numbers">6</span>    order_price = order_price + order_price * discount
<span class="line-numbers">7</span>    <span class="comment"># ------------------------------&gt;8--</span>
<span class="line-numbers">8</span>    <span class="keyword">return</span> shipment.price + order_price</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">compute_order_total_price</span>():
    order_price = <span class="integer">0</span>
    <span class="keyword">for</span> item <span class="keyword">in</span> order.items:
        order_price = order_price + item.price * item.quantity
    order_price = order_price + order_price * discount</code></pre></div></div>
<div class="ulist"><ul><li><p>4) Chercher les paramètres nécessaires et les valeurs retournées</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="line-numbers">1</span><span class="keyword">def</span> <span class="function">compute_order_total_price</span>(order, discount):
<span class="line-numbers">2</span>    order_price = <span class="integer">0</span>
<span class="line-numbers">3</span>    <span class="keyword">for</span> item <span class="keyword">in</span> order.items:
<span class="line-numbers">4</span>        order_price = order_price + item.price * item.quantity
<span class="line-numbers">5</span>    order_price = order_price + order_price * discount
<span class="line-numbers">6</span>    <span class="keyword">return</span> order_price</code></pre></div></div></div></section><section><div class="slide-content"><div class="ulist"><ul><li><p>5) Tester</p></li></ul></div>
<div class="imageblock center"><img src="images/capture_extraire_fonction_tests.png" alt="alt"></div>
<div class="ulist"><ul><li><p>6) Commiter</p></li><li><p>7) Substituer l&#8217;appel de la fonction aux instructions déplacées</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="CodeRay highlight"><code data-lang="python"><span class="line-numbers">1</span><span class="keyword">def</span> <span class="function">compute_invoice</span>(shipment, order, discount):
<span class="line-numbers">2</span>    <span class="comment"># --8&lt;------------------------------</span>
<span class="line-numbers">3</span>    order_price = compute_order_total_price(order, discount)
<span class="line-numbers">4</span>    <span class="comment"># ------------------------------&gt;8--</span>
<span class="line-numbers">5</span>    <span class="keyword">return</span> shipment.price + order_price</code></pre></div></div>
<div class="ulist"><ul><li><p>8) Tester</p></li><li><p>8) Commiter</p></li><li><p>Passer à la technique suivante si nécessaire</p></li></ul></div></div></section><section id="_mon_point_de_vue_personnel"><h2>Mon point de vue personnel</h2><div class="slide-content"><div class="ulist"><ul><li><p>Le refactoring &#8658; ensemble de techniques et d&#8217;habitudes,</p><div class="ulist"><ul><li><p>qui vont des plus simples aux plus complexes</p></li></ul></div></li><li><p>Je suis de culture <em>Java</em></p><div class="ulist"><ul><li><p>&#8658; Refactoring nécessaire</p></li><li><p>&#8658; Disponibles dans Eclipse</p></li><li><p>J&#8217;en connaissais ou n&#8217;en pratiquais que quelques unes</p></li></ul></div></li><li><p>Je considérais certaines comme insignifiantes</p><div class="ulist"><ul><li><p>&#8658; jusqu&#8217;à la lecture du livre de M. Folwer</p></li></ul></div></li></ul></div>
<div class="paragraph"><p><strong>Je recommande de les parcourir toutes et de lire la motivation derrière : elle est souvent très légitime</strong></p></div></div></section></section>
<section><section id="_approche_du_refactoring" class="splash background center"><h2>Approche du refactoring</h2><div class="slide-content"><div class="paragraph"><p>Le refactoring ne serait-il qu&#8217;un catalogue de <em>trucs</em> et <em>astuces</em> ?</p></div></div></section><section id="_outils_de_refactoring_ide_java"><h2>Outils de refactoring &gt; IDE &gt; Java</h2><div class="slide-content"><div class="openblock center left-column"><div class="content"><div class="paragraph"><p>Eclipse</p></div>
<div class="imageblock"><img src="images/refactoring_java_eclipse.png" alt="refactoring java eclipse"></div></div></div>
<div class="openblock center right-column"><div class="content"><div class="paragraph"><p>VSCode</p></div>
<div class="imageblock"><img src="images/refactoring_java_vscode.png" alt="refactoring java vscode"></div></div></div></div></section><section id="_outils_de_refactoring_python"><h2>Outils de refactoring &gt; Python</h2><div class="slide-content"><div class="openblock center left-column"><div class="content"><div class="paragraph"><p>PyCharm</p></div>
<div class="imageblock"><img src="images/pycharm_refactor.png" alt="pycharm refactor"></div></div></div>
<div class="openblock center right-column"><div class="content"><div class="paragraph"><p>VSCode</p></div>
<div class="imageblock"><img src="https://code.visualstudio.com/assets/docs/python/editing/refactorExtractVar.gif" alt="refactorExtractVar"></div>
<div class="imageblock"><img src="https://code.visualstudio.com/assets/docs/python/editing/refactorExtractMethod.gif" alt="refactorExtractMethod"></div>
<div class="paragraph"><p>and powerful Renaming</p></div></div></div></div></section><section id="_outils_de_refactoring_linters"><h2>Outils de refactoring &gt; Linters</h2><div class="slide-content"><div class="openblock left-column-2-3"><div class="content"><div class="ulist"><ul><li><p>Linters &gt; Jiminy Cricket</p><div class="ulist"><ul><li><p>Analyseurs de code <em>"temps réel"</em></p></li><li><p>Disponible dans <em>presque</em> tous les <a href="https://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis">langages</a></p></li><li><p>Dans tous les bons IDE</p><div class="ulist"><ul><li><p>Sinon ce n&#8217;est pas un <em>bon</em> IDE !</p></li></ul></div></li></ul></div></li></ul></div></div></div>
<div class="openblock right-column-1-3"><div class="content"><div class="imageblock"><img src="images/jimminy_crickets.jpg" alt="jimminy crickets" width="400"></div></div></div>
<div class="openblock reset-column"><div class="content"></div></div>
<div class="openblock left-column"><div class="content"><div class="imageblock"><img src="images/2023-11-11T14-07-45-197Z.png" alt="2023 11 11T14 07 45 197Z" width="600"></div></div></div>
<div class="openblock right-column"><div class="content"><div class="imageblock"><img src="images/2023-11-11T14-21-27-838Z.png" alt="2023 11 11T14 21 27 838Z" width="600"></div></div></div></div></section></section>
<section id="_sonarlint"><h2>Sonarlint</h2><div class="slide-content"><div class="ulist"><ul><li><p>Plugin d&#8217;analyse <em>directement dans l&#8217;IDE</em></p><div class="ulist"><ul><li><p>Jiminy Cricket sur stéroïdes !!</p></li></ul></div></li><li><p>Peut fonctionner en standalone</p><div class="ulist"><ul><li><p>Utilisable sans infrastructure (donc oui, dès maintenant, là)</p></li><li><p>Mais reliable à une instance sonarqube</p></li></ul></div></li></ul></div>
<div class="openblock left-column center"><div class="content"><div class="paragraph"><p>VSCode</p></div>
<div class="imageblock"><img src="images/sonarqube/2023-11-12T21-47-43-839Z.png" alt="2023 11 12T21 47 43 839Z"></div>
<div class="imageblock"><img src="images/sonarqube/2023-11-12T21-48-30-820Z.png" alt="2023 11 12T21 48 30 820Z"></div></div></div>
<div class="openblock right-column center"><div class="content"><div class="paragraph"><p>Pycharm</p></div>
<div class="imageblock"><img src="images/sonarqube/2023-11-12T21-52-43-886Z.png" alt="2023 11 12T21 52 43 886Z" width="500"></div>
<div class="imageblock"><img src="images/sonarqube/2023-11-12T21-54-03-101Z.png" alt="2023 11 12T21 54 03 101Z"></div></div></div></div></section>
<section><section id="_refactoring_lesprit_plutôt_que_la_lettre"><h2>Refactoring : L&#8217;esprit plutôt que la lettre</h2><div class="slide-content"><div class="ulist"><ul><li><p>Avoir un fil conducteur plutôt qu&#8217;un catalogue</p><div class="ulist"><ul><li><p>Nombreuses techniques</p></li><li><p>Automatisation grâce aux outils existants</p><div class="ulist"><ul><li><p>IDE, linters</p></li></ul></div></li></ul></div></li><li><p>Objectifs</p><div class="ulist"><ul><li><p>Pour les développeuses et développeurs</p><div class="ulist"><ul><li><p>Lever le nez du guidon &amp; prendre de la hauteur</p></li></ul></div></li><li><p>Pour les chef(fes) de projet</p><div class="ulist"><ul><li><p>Comprendre l&#8217;importance du refactoring &amp; s&#8217;en faire l&#8217;avocat lors des arbitrages</p></li></ul></div></li></ul></div></li><li><p>Pour tous</p><div class="ulist"><ul><li><p><em>Evangéliser</em> auprès de vos collègues</p></li></ul></div></li></ul></div></div></section><section id="_approche_du_refactoring_2"><h2>Approche du refactoring</h2><div class="slide-content"><div class="openblock left-column-1-3"><div class="content"><div class="ulist"><ul><li><p>Trois axes</p><div class="ulist"><ul><li><p>Cognitif</p></li><li><p>Conception</p></li><li><p>Testabilité</p></li></ul></div></li></ul></div></div></div>
<div class="openblock middle-column-1-3"><div class="content"><div class="ulist"><ul><li><p>Deux fonctions</p><div class="ulist"><ul><li><p>Développement</p></li><li><p>Gestion de projet</p></li></ul></div></li></ul></div></div></div>
<div class="openblock right-column-1-3"><div class="content"><div class="ulist"><ul><li><p>Trois profils de compétences</p><div class="ulist"><ul><li><p>Compétence annexe / Pratique Occasionnelle</p></li><li><p>Compétence principale / Pratique quotidienne</p></li><li><p>Expertise</p></li></ul></div></li></ul></div></div></div></div></section></section></div></div><script src="reveal.js/dist/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'true',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: false,
  // Push each slide change to the browser history. Implies `hash: true`
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Disables the default reveal.js slide layout so that you can use custom CSS layout
  disableLayout: false,
  // Vertical centering of slides
  center: false,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: true,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'fast',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'default',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 1280,
  height: 800,

  // Factor of the display size that should remain empty around the content
  margin: 0.02,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/plugin/zoom/zoom.js', async: true, callback: function () { Reveal.registerPlugin(RevealZoom) } },
      { src: 'reveal.js/plugin/notes/notes.js', async: true, callback: function () { Reveal.registerPlugin(RevealNotes) } }
  ],
});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(1280, 800)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(1280, 800)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(1280, 800)
});</script></body></html>